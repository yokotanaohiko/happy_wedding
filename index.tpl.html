<html>
  <head>
    <title>マカロン結婚式記念サイト</title>
    <meta http-equiv="Content-Tyep" content="text/html" charset="UTF-8">
    
    <link rel="stylesheet" href="static/css/index.css">
    <!--
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">
    <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
    -->
    <script type="text/javascript" src="static/js/jquery-2.1.1.js"></script>
    <script>
      $(document).ready(function(){
          var sw = 1;
          $('body').append("<div id='glayLayer'></div><div id='overLayer'></div>");
          $("#glayLayer").click(function(){
            });

          // 最初の画像を出す
          var image_num = 0;
          var last_showed = 0;
          $("#overLayer").show().html("<img src='"+$("li.modal a[id='"+image_num+"']").attr("href")+"' />");
          $("li.modal a[id='"+image_num+"'] img").addClass('border');
          $("#overLayer").css('opacity',0)
          $("#overLayer").fadeTo(2800, 1);
          $("#overLayer").fadeTo(2800, 0);
          
          image_num ++;

          // 画像のスライドショー
          setInterval(function(){
            if(sw == 0){return false;}
            if(image_num >= {{num}}){image_num = 0;}
            $("li.modal a[id='"+last_showed+"'] img").removeClass('border');
            $("li.modal a[id='"+image_num+"'] img").addClass('border');
            console.log($("#overLayer").css('opacity'))
            $("#overLayer").css('opacity',0)
            $("#overLayer").show().html("<img src='"+$("li.modal a[id='"+image_num+"']").attr("href")+"' />");
            $("#overLayer").fadeTo(2800, 1);
            $("#overLayer").fadeTo(2800, 0);
            last_showed = image_num;
            image_num ++;
            },6000);

          $("li.modal a").click(function(){
            // $('#glayLayer').show();
            // $("#overLayer").show().html("<img src='"+$(this).attr("href")+"' />");
            console.log($(this).attr('id'));
            image_num = $(this).attr('id');
            return false;
            });


      });
    </script>
  </head>
  <body>
    <h1>Celebration for makaron's wedding!</h1>
    <a href="pallet">パレット</a>
    <div class="curtain">
      <div class="wrap">
        <ul class="pic_list">
          {% for ii in range(num) %}
          <li class="modal"><a href="thumbnail/{{ images[ii] }}.png" id="{{ii}}"><img src="thumbnail/{{ images[ii] }}.png" alt="イメージサンプル"></a></li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </body>
</html>
